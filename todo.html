<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html><!--あいう-->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=8">
<title>pathsearcher.js TODO</title>
<script type="text/javascript">
</script>
</head>

<body>
<h1>pathsearcher. js TODO</h1>
<h2>欲しい機能</h2>
<ul>
    <li>高速化。RTSだと移動力無限が条件になる上に計算しまくるし、通常SRPGの数マス以内の計算でもIE8だと10ms程度必要になってしまう<br />
        同じインスタンスを再利用できるようにしたり、関数内を最適化したり</li>
    <li> 「侵入方向により移動コストが変わるマス」「移動コストが回復するマス」に未対応、例えば
        <pre>
 +-+-+ (必要移動コスト)
 |a|b| c -&gt; a = 1
 +-+-+ a -&gt; b = 1
 |c|d| b -&gt; d = 1
 +-+-+ c -&gt; d = 4
        </pre>
        cを出発点とした場合、d に入った段階でより簡単にたどり着ける cabd パスが考慮外になる<br />
        これをやらないと、「タクティクスオウガ」のような高さの概念や、「シヴィライゼーション」の道路・鉄道の仕様には対応できない
    </li>
    <li>斜め移動</li>
</ul>

<h2>大改修時の方針</h2>
<div>
問題なく動いてるが、データの持ち方や変数名などがオレオレ仕様<br />
アルゴリズムはある程度合ってるけど<br />
ダイクストラ法の良くて読み易いJavaScriptコードを発見したので、作り直すなら参照する<br />
    <ul>
        <li><a href="http://www.deqnotes.net/acmicpc/dijkstra/" target="_blank">ダイクストラ法（最短経路問題） - deq notes</a>
            (ダイクストラ法の説明)</li>
        <li><a href="http://blog.justoneplanet.info/2011/01/12/javascript%E3%81%A7%E3%83%80%E3%82%A4%E3%82%AF%E3%82%B9%E3%83%88%E3%83%A9%E6%B3%95/" target="_blank">JavaScriptでダイクストラ法</a></li>
    </ul>
多分、コア部分は Field と Node と Route というようなクラス構成になると思う<br />
加えて、上記サイトだとヒープソートでやっているようなインデックスを付与する仕組みやキャッシュ管理など<br />
ヒープソートだと、更新回数が多くなるから性能上あんまり良くなさそうな気がする
</div>
</body>
</html>
